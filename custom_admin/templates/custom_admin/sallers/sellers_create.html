{% extends "custom_admin/layouts/adminBash.html" %}
{% load static %}
{% block title %}Add Seller{% endblock %}

{% block content %}
<div class="bg-white shadow-md rounded-lg p-6 mt-6">
    <h4 class="text-2xl font-semibold mb-6 flex items-center gap-2">
        <i class="bi bi-plus-circle"></i> Add New Seller
    </h4>

    <form method="POST" enctype="multipart/form-data" class="space-y-6">
        {% csrf_token %}

        <!-- Business Info -->
        <div>
            <label class="block font-medium mb-1"><i class="bi bi-shop"></i> Business Name *</label>
            <input type="text" name="name" value="{{ form.name.value|default_if_none:'' }}" 
                   class="w-full border rounded px-3 py-2 {% if form.name.errors %}border-red-500{% else %}border-gray-300{% endif %}" required>
            {% for error in form.name.errors %}
                <p class="text-red-500 text-sm mt-1">{{ error }}</p>
            {% endfor %}
        </div>

        <!-- Contact Person -->
        <div>
            <label class="block font-medium mb-1"><i class="bi bi-person-badge"></i> Contact Person *</label>
            <input type="text" name="contact_person" value="{{ form.contact_person.value|default_if_none:'' }}" 
                   class="w-full border rounded px-3 py-2 {% if form.contact_person.errors %}border-red-500{% else %}border-gray-300{% endif %}" required>
            {% for error in form.contact_person.errors %}
                <p class="text-red-500 text-sm mt-1">{{ error }}</p>
            {% endfor %}
        </div>

        <!-- Email & Phone -->
        <div class="grid md:grid-cols-2 gap-4">
            <div>
                <label class="block font-medium mb-1"><i class="bi bi-envelope"></i> Email *</label>
                <input type="email" name="email" value="{{ form.email.value|default_if_none:'' }}" 
                       class="w-full border rounded px-3 py-2 {% if form.email.errors %}border-red-500{% else %}border-gray-300{% endif %}" required>
                {% for error in form.email.errors %}
                    <p class="text-red-500 text-sm mt-1">{{ error }}</p>
                {% endfor %}
            </div>
            <div>
                <label class="block font-medium mb-1"><i class="bi bi-telephone"></i> Phone *</label>
                <input type="text" name="phone" value="{{ form.phone.value|default_if_none:'' }}" 
                       class="w-full border rounded px-3 py-2 {% if form.phone.errors %}border-red-500{% else %}border-gray-300{% endif %}" required>
                {% for error in form.phone.errors %}
                    <p class="text-red-500 text-sm mt-1">{{ error }}</p>
                {% endfor %}
            </div>
        </div>

        <!-- Address -->
        <div>
            <label class="block font-medium mb-1"><i class="bi bi-geo-alt"></i> Address</label>
            <textarea name="address" rows="2" 
                      class="w-full border rounded px-3 py-2 {% if form.address.errors %}border-red-500{% else %}border-gray-300{% endif %}">{{ form.address.value|default_if_none:'' }}</textarea>
            {% for error in form.address.errors %}
                <p class="text-red-500 text-sm mt-1">{{ error }}</p>
            {% endfor %}
        </div>

        <!-- City / State / Country -->
        <div class="grid md:grid-cols-3 gap-4">
            <div>
                <label class="block font-medium mb-1">City</label>
                <input type="text" name="city" value="{{ form.city.value|default_if_none:'' }}" class="w-full border rounded px-3 py-2">
            </div>
            <div>
                <label class="block font-medium mb-1">State</label>
                <input type="text" name="state" value="{{ form.state.value|default_if_none:'' }}" class="w-full border rounded px-3 py-2">
            </div>
            <div>
                <label class="block font-medium mb-1">Country</label>
                <input type="text" name="country" value="{{ form.country.value|default_if_none:'India' }}" class="w-full border rounded px-3 py-2">
            </div>
        </div>

        <!-- Postal Code -->
        <div>
            <label class="block font-medium mb-1">Postal Code</label>
            <input type="text" name="postal_code" value="{{ form.postal_code.value|default_if_none:'' }}" class="w-full border rounded px-3 py-2">
        </div>

        <!-- Tax Details -->
        <div class="grid md:grid-cols-2 gap-4">
            <div>
                <label class="block font-medium mb-1">GST Number</label>
                <input type="text" name="gst_number" value="{{ form.gst_number.value|default_if_none:'' }}" class="w-full border rounded px-3 py-2">
            </div>
            <div>
                <label class="block font-medium mb-1">PAN Number</label>
                <input type="text" name="pan_number" value="{{ form.pan_number.value|default_if_none:'' }}" class="w-full border rounded px-3 py-2">
            </div>
        </div>

        <!-- Bank Info -->
        <div>
            <label class="block font-medium mb-1"><i class="bi bi-bank"></i> Bank Account Number</label>
            <input type="text" name="bank_account_number" value="{{ form.bank_account_number.value|default_if_none:'' }}" class="w-full border rounded px-3 py-2">
        </div>
        <div class="grid md:grid-cols-2 gap-4">
            <div>
                <label class="block font-medium mb-1">Bank Name</label>
                <input type="text" name="bank_name" value="{{ form.bank_name.value|default_if_none:'' }}" class="w-full border rounded px-3 py-2">
            </div>
            <div>
                <label class="block font-medium mb-1">IFSC Code</label>
                <input type="text" name="ifsc_code" value="{{ form.ifsc_code.value|default_if_none:'' }}" class="w-full border rounded px-3 py-2">
            </div>
        </div>

        <!-- UPI / Commission -->
        <div class="grid md:grid-cols-2 gap-4">
            <div>
                <label class="block font-medium mb-1">UPI ID</label>
                <input type="text" name="upi_id" value="{{ form.upi_id.value|default_if_none:'' }}" class="w-full border rounded px-3 py-2">
            </div>
            <div>
                <label class="block font-medium mb-1">Commission Rate (%)</label>
                <input type="number" step="0.01" name="commission_rate" value="{{ form.commission_rate.value|default_if_none:'' }}" class="w-full border rounded px-3 py-2">
            </div>
        </div>

        <!-- File Uploads -->
        <div class="grid md:grid-cols-2 gap-4">
            <div>
                <label class="block font-medium mb-1">Seller Logo</label>
                <input type="file" name="logo" class="w-full border rounded px-3 py-2">
            </div>
            <div>
                <label class="block font-medium mb-1">Documents (KYC, Agreement, etc.)</label>
                <input type="file" name="documents" multiple class="w-full border rounded px-3 py-2">
            </div>
        </div>

        <!-- Status -->
        <div class="flex items-center gap-2">
            <input type="checkbox" name="is_active" value="1" id="is_active" class="form-checkbox h-5 w-5 text-green-600" checked>
            <label for="is_active" class="font-medium">Active Seller</label>
        </div>

        <!-- Buttons -->
        <div class="flex justify-end gap-3 mt-4">
            <a href="{% url 'custom_admin:admin_sellers_index' %}" class="px-4 py-2 bg-gray-300 text-gray-800 rounded hover:bg-gray-400 flex items-center gap-2">
                <i class="bi bi-arrow-left"></i> Cancel
            </a>
            <button type="submit" class="px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 flex items-center gap-2">
                <i class="bi bi-check2-circle"></i> Save Seller
            </button>
        </div>

    </form>
</div>
{% endblock %}
